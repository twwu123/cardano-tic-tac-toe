"use client";

import { Data, serializePlutusScript } from "@meshsdk/core";

import { applyParamsToScript } from "@meshsdk/core-csl";

export const scriptCbor = applyParamsToScript(
  "59150601010029800aba4aba2aba1aba0aab9faab9eaab9dab9cab9a488888888a60022a660049212565787065637420626f6172645f73746174652e63757272656e745f7374617465203d3d203100168a99801249316578706563742073656c662e65787472615f7369676e61746f72696573207c3e206c6973742e68617328706c617965722900168a9980124932657870656374206e65775f626f6172645f73746174653a20426f6172645374617465203d206e65775f7574786f5f6461746100168a99801249a9657870656374205b6e6578745f7574786f5d203d0a2020202020202020202073656c662e6f7574707574730a2020202020202020202020207c3e206c6973742e66696c746572280a20202020202020202020202020202020666e286f757470757429202d3e20426f6f6c207b206f75747075742e61646472657373203d3d206f776e5f7574786f2e6f75747075742e61646472657373207d2c0a20202020202020202020202020202900168a998012492565787065637420626f6172645f73746174652e63757272656e745f7374617465203d3d203000168a998012491272656465656d65723a2052656465656d6572001648888896600264653001300f00198079808000cdc3a4005300f00248889660026004601e6ea800e2646644b30010078cc004dc3a4001370e90024dc3a400d3012375400e9111192cc004c01400a264b300100180844c966002003159800980f00144c966002601000313259800800c04e264b300100180a40520291332259800800c05a264b300100180bc05e02f0178992cc004c09400e01501840886eb80050251811000a040375a00260420050144088603e00280e8c06cdd50014566002601a00313259800800c04e264b300100180a40520291332259800800c05a264b300100180bc05e02f017899912cc00400603313259800800c06a035132598009814001c4c8cc00400400888c9660020050108992cc00400603f01f80fc4c8c00cc0b4010dd6800c07d02d18150012050300200280da04a375800301a80d20503025001408c6eb8004c0900090251811000a040375a00260420050144088603e00280e8c06cdd50014566002600e00313259800800c04e264b300100180a40520291332259800800c05a264b300100180bc05e02f0178992cc004c09400e01501840886eb80050251811000a040375a00260420050144088603e00280e8c06cdd50014566002600c00313259800800c04e264b300100180a40520290148992cc004c08800e00f015407c6eb8005022180f800a03a301b375400515980099b87480200062b3001301b375400500480920388092030406080c1018203030193754003011406d011808c04602280f8c07000501a180c1baa00c8acc004c02800a2b300130183754019001807a0328acc004c01000a2b300130183754019001807a032807a02a405480a85660026008602c6ea801633001301a3017375400b2301b301c301c0019180d980e000c88c8cc00400400c896600200314a115980099b8f375c603c00200714a3133002002301f001406080e246036603860386038603860386038603860380032301b301c301c301c301c001980b1baa00b919199119801001000912cc00400600713233225980099b91489000028acc004cdc7a441000028800c01901b44cc014014c08801101b1bae301b001375a6038002603c00280e0c8c8cc004004010896600200300389919912cc004cdc8a441000028acc004cdc7a441000028800c01901c44cc014014c08c01101c1bae301c0013756603a002603e00280e852f5bded8c02900048c06cc070c070c070c070c070c0700064603660386038603860386038603860380032232330010010032259800800c52f5c11332259800980280144cc07c008cc01001000626600800800280d0c078004c07c00501c244444444444b3001300f00589919912cc004c048c090dd500144c8c9660020030208992cc004c0b000a264b300130153028375400313259800800c566002602e60526ea8006264b3001001812c4c966002003026813409a04d1332259800800c0a2264b3001001814c0a6053029899912cc00400605713259800800c0b205902c81644cc896600200302e8992cc00400605f02f817c0be26644b3001001818c4c96600200303281940ca26644b300100181a44c96600200303581ac0d626644b300100181bc4c96600200303881c40e226644b300100181d44c96600200303b81dc0ee264b30013046003899194c0048888966002b3001337129000001c4cdc4001a402514a082322b300130363371c6eb8c130c124dd5002801c56600266e3cdd7182618269826982698249baa005002899912cc0056600266ebcc8c8c0accc13cc140c134dd5004198279828001198279828000998279ba95980098019bae3034304d37540131375c606a609a6ea802626eb8c0d0c134dd5004a0943304f375000a60a260a260a200260a0002609e60966ea801c01a29462a6609292012765787065637465645f6e65775f7374617465203d3d206e65775f7374617465203f2046616c73650014a082422b30015980099b873371c00400ab30013001375c606460966ea801e29001456600260026eb8c0ccc12cdd5003c520048a99824a48119696e76616c696420706c617965722063726564656e7469616c00164120824229462a66092921396279746561727261792e617428786f725f63656c6c732c20706f736974696f6e29203d3d20706c617965725f76616c7565203f2046616c73650014a082422b30015980099b8f98008015200099b80005480050084c00528401690002f2513371f30010029804802d2010402130014a13370066e0520120054800690002f2514a0824229462a66092920111636865636b5f786f72203f2046616c73650014a082422941048452820909800a509bae304c3049375400b375c609860926ea801179a371e0051533047491236578706563742073746174652e63757272656e745f7475726e203d3d20706c617965720016411915330474912f657870656374206279746561727261792e61742873746174652e63656c6c732c20706f736974696f6e29203d3d20300016411915330474912465787065637420706f736974696f6e203e3d203020262620706f736974696f6e203c2039001641193043375404123048304930493049304930490014889660026068005132332259800998181bac302f304a3754076003159800981e1bad302e304a375406719800819c086005001a4004803208c823a08a8238dd698258009bae304b304c00130473754047159800981c80144c8ca60026eb8c1300066eb0c130c1340066eb4c13000922259800998191bac3031304c375407a007159800981f1bad3030304c375406b13259800cc0040da04900280256600260026eb8c0d0c134dd501b4520048acc004c004dd7181a98269baa0368a400d153304b49119696e76616c696420706c617965722063726564656e7469616c00164128825100944c966002646600200297ae11059f000102ff0081059f030405ff0081059f060708ff0081059f000306ff0081059f010407ff0081059f020508ff0081059f000408ff0081059f020406ff00112cc00400629422b30013375e60a60026e9c01a294626600400460a8002826905144c8cc004004014896600200314a315980099b873371c6eb8c14cc140dd50139bad3053001003899801001182a000c528209a414514a082596600260026eb8c0d0c134dd50124520028acc004c004dd7181a98269baa0248a4009153304b49119696e76616c69642077696e6e65722063726564656e7469616c001641288252294104a1b8f0038242092823a092182600098239baa0238acc004c0cc00a2646644b3001330303758605e60946ea80ec0062b3001303c375a605c60946ea80ce2b30019800819c086005001a40108032266e3e60029426eb8c134c128dd5010d220109000000000000000000005e68dd7182698251baa0218a50411d046411d045411c6eb4c12c004dd71825982600098239baa0238992cc004c0cc00e264b30013302f3758605c60926ea80e80062b30013036375a605a60926ea80ca2b30013370e66e04c0acdd5981818249baa022302b3756606060926ea8c0c0c124dd50121bad300330493754065132332259800981f180118009bab3033304c375404b159800981f180118009bab3033304c3754606660986ea809e2b30013371e0086eb8c0ccc130dd501ac4c014c8c8c8c8c8c8c0c0cc150c154018cc150c154014cc150c154010cc150c15400ccc150c154008cc150c154004cc150c154c158004cc150c030c148dd501da5eb80c154004c150004c14c004c148004c144004c130dd501ac56600266e3c010dd7181a18261baa0358980299191919191918181982a182a8031982a182a8029982a182a8021982a182a8019982a182a8011982a182a8009982a180618291baa03b3056305600130550013054001305300130520013051001304c375406b153304a49119696e76616c696420706c617965722063726564656e7469616c00164124824a2a6609492137657870656374206c6973742e6c656e67746828666c617474656e286f776e5f7574786f2e6f75747075742e76616c75652929203d3d203100164125153304a49131657870656374206c6973742e6c656e67746828666c617474656e286e6578745f7574786f2e76616c75652929203d3d20310016412460020024646600200200444b30010018a5eb82264664466446600400400244b30010018801c4c8cc154dd39982a9ba90053305530520013305530530014bd7019801801982b801182a800a0a6375660a00066eb8c134004cc00c00cc148008c14000504e112cc0040062900044c024cc008008c13c00504c454cc11d2401706578706563740a20202020202020202020202020206c6f76656c6163655f6f66286e6578745f7574786f2e76616c756529202d206c6f76656c6163655f6f66286f776e5f7574786f2e6f75747075742e76616c756529203d3d20626f6172645f73746174652e6265745f616d6f756e7400164119041411904441186eb8c12cc120dd50124566002606a6eb4c0b0c120dd5018c56600266e1cdd6981418241baa031375a600460906ea80c62b30013370e6eb4c0a4c120dd50189bad3002304837540631300132323232302a3304e304f0043304e304f0033304e304f0023304e304f0013304e4c0101010030503050001304f001304e001304d00130483754063153304649013e65787065637420626f6172645f73746174652e7061727469636970616e745f6f5f626574203d3d20626f6172645f73746174652e6265745f616d6f756e740016411515330464913e65787065637420626f6172645f73746174652e7061727469636970616e745f785f626574203d3d20626f6172645f73746174652e6265745f616d6f756e740016411504041148228dd780f2088411082204453001002980219b81001002801ae306e01200281e2086375a00303b411860860028208dd6800982100140e10431820000a07c375a002607e0050354100607a00281d8dd6800981e00140c903d181d000a070375c002607200481d0c0dc0050351bae001303600240dc60680028190dd700098198012068303100140bc6eb8004c0c00090311817000a058302a3754003024409d02481240920488178c0b0c0a4dd5000c54cc09d2413365787065637420496e6c696e65446174756d286e65775f7574786f5f6461746129203d206e6578745f7574786f2e646174756d00164098602060506ea80060428148c0a8005028198029bac300e3026375402e466ebcc0a8c09cdd5000981518139baa300e302737540046050604a6ea800a2a66046921a465787065637420536f6d65286f776e5f7574786f29203d0a2020202020202020202073656c662e696e707574730a2020202020202020202020207c3e206c6973742e66696e64280a20202020202020202020202020202020666e28696e7075743a20496e70757429202d3e20426f6f6c207b20696e7075742e6f75747075745f7265666572656e6365203d3d207574786f207d2c0a2020202020202020202020202020290016408864660020026eb0c09cc090dd500a912cc0040062980103d87a80008992cc004cdd7981498131baa0010158980219814000a5eb8226600600660540048118c0a0005026181318119baa017374a90004566002602800b15980098079bad300630223754017159800acc004c03cdd6980198111baa00b898079bad30023022375401714a080fa2946264b3001337126eb4c010c08cdd50064c004cc008dd6180598119baa01423259800980918121baa001899b8f375c6050604a6ea8004dd7180698129baa00e8a504088604e60486ea8c09cc090dd5000d20009119b80001300737566018604a6ea8009001456600266e24dd6980198119baa00c9800998011bac300b30233754028464b300130123024375400313371e6eb8c0a0c094dd50009bae300c3025375401d14a08110c09cc090dd5181398121baa001a40012233700002600e6eacc030c094dd500120028a518a99810a4813c657870656374207061727469636970616e745f785f726566756e64203e3d20626f6172645f73746174652e7061727469636970616e745f785f6265740016408115330214913c657870656374207061727469636970616e745f6f5f726566756e64203e3d20626f6172645f73746174652e7061727469636970616e745f6f5f62657400164080444646600200200844b3001001880244cc00cc0a8004cc008008c0ac005028203e80d203e8992515980098071bad300630223754017159800998041bac3007302237540266eb8c024c088dd5005c5268a998102481446578706563742073656c662e65787472615f7369676e61746f72696573207c3e206c6973742e68617328626f6172645f73746174652e7061727469636970616e745f78290016407d15980098069bad300630223754017159800998041bac3007302237540266eb8c028c088dd5005c5268a998102481446578706563742073656c662e65787472615f7369676e61746f72696573207c3e206c6973742e68617328626f6172645f73746174652e7061727469636970616e745f6f290016407d15330204911f67616d65206973206e6f7420696e2061207465726d696e616c2073746174650016407c80f901f203e454cc0552412065787065637420536f6d6528626f6172645f737461746529203d20646174756d00164050805402a01500a406060280026028602a00260206ea800e2a6601c9211a756e737570706f727465642073637269707420707572706f736500164034300f001300a3754021149a2a660109211856616c696461746f722072657475726e65642066616c73650013656401c1",
  []
);

export const scriptAddress = serializePlutusScript({
  code: scriptCbor,
  version: "V3",
}).address;

export const boardStateDatum = (
  cells: string,
  participant_x_cred: string,
  participant_o_cred: string,
  current_turn_cred: string,
  current_state: number,
  bet_amount: number,
  participant_o_bet: number,
  participant_x_bet: number
): Data => {
  return {
    alternative: 0,
    fields: [
      cells,
      participant_x_cred,
      participant_o_cred,
      current_turn_cred,
      current_state,
      bet_amount,
      participant_o_bet,
      participant_x_bet,
    ],
  };
};
